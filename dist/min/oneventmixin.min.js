/*!
 * OnEventMixin | Copyright (C) 2021 Peter Kröner | peter@peterkroener.de | Dual license GPL-3.0-only/commercial
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).OnEventMixin=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n,r=function(t){return t&&t.Math==Math&&t},o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},u=function(t){try{return!!t()}catch(t){return!0}},a={}.toString,c="".split,f=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return a.call(t).slice(8,-1)}(t)?c.call(t,""):Object(t)}:Object,l=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},s=function(t){return f(l(t))},p=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},h=o.document,v=y(h)&&y(h.createElement),d=function(t){return v?h.createElement(t):{}},b=!p&&!u((function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a})),g=function(t){if(!y(t))throw TypeError(String(t)+" is not an object");return t},m=function(t,e){if(!y(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!y(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},O=Object.defineProperty,S={f:p?O:function(t,e,n){if(g(t),e=m(e,!0),g(n),b)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=p?function(t,e,n){return S.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},T=function(t,e){try{w(o,t,e)}catch(n){o[t]=e}return e},j="__core-js_shared__",L=o[j]||T(j,{}),P=e((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),E={}.hasOwnProperty,A=function(t,e){return E.call(t,e)},M=0,k=Math.random(),x=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++M+k).toString(36)},I=!!Object.getOwnPropertySymbols&&!u((function(){return!String(Symbol())})),V=I&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,C=P("wks"),N=o.Symbol,F=V?N:N&&N.withoutSetter||x,R=function(t){return A(C,t)||(I&&A(N,t)?C[t]=N[t]:C[t]=F("Symbol."+t)),C[t]},G=Math.ceil,D=Math.floor,z=function(t){return isNaN(t=+t)?0:(t>0?D:G)(t)},H=Math.min,W=Math.max,B=Math.min,Y=function(t){return function(e,n,r){var o,i,u=s(e),a=(o=u.length)>0?H(z(o),9007199254740991):0,c=function(t,e){var n=z(t);return n<0?W(n+e,0):B(n,e)}(r,a);if(t&&n!=n){for(;a>c;)if((i=u[c++])!=i)return!0}else for(;a>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}},q={includes:Y(!0),indexOf:Y(!1)},U={},K=q.indexOf,X=function(t,e){var n,r=s(t),o=0,i=[];for(n in r)!A(U,n)&&A(r,n)&&i.push(n);for(;e.length>o;)A(r,n=e[o++])&&(~K(i,n)||i.push(n));return i},J=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Q=Object.keys||function(t){return X(t,J)},Z=p?Object.defineProperties:function(t,e){g(t);for(var n,r=Q(e),o=r.length,i=0;o>i;)S.f(t,n=r[i++],e[n]);return t},$=o,tt=function(t){return"function"==typeof t?t:void 0},et=function(t,e){return arguments.length<2?tt($[t])||tt(o[t]):$[t]&&$[t][e]||o[t]&&o[t][e]},nt=et("document","documentElement"),rt=P("keys"),ot=function(t){return rt[t]||(rt[t]=x(t))},it=ot("IE_PROTO"),ut=function(){},at=function(t){return"<script>"+t+"</"+"script>"},ct=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ct=n?function(t){t.write(at("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=d("iframe")).style.display="none",nt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(at("document.F=Object")),t.close(),t.F);for(var r=J.length;r--;)delete ct.prototype[J[r]];return ct()};U[it]=!0;var ft=Object.create||function(t,e){var n;return null!==t?(ut.prototype=g(t),n=new ut,ut.prototype=null,n[it]=t):n=ct(),void 0===e?n:Z(n,e)},lt=R("unscopables"),st=Array.prototype;null==st[lt]&&S.f(st,lt,{configurable:!0,value:ft(null)});var pt=function(t){st[lt][t]=!0},yt=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return yt.call(t)});var ht,vt,dt,bt=L.inspectSource,gt=o.WeakMap,mt="function"==typeof gt&&/native code/.test(bt(gt)),Ot=o.WeakMap;if(mt){var St=L.state||(L.state=new Ot),_t=St.get,wt=St.has,Tt=St.set;ht=function(t,e){return e.facade=t,Tt.call(St,t,e),e},vt=function(t){return _t.call(St,t)||{}},dt=function(t){return wt.call(St,t)}}else{var jt=ot("state");U[jt]=!0,ht=function(t,e){return e.facade=t,w(t,jt,e),e},vt=function(t){return A(t,jt)?t[jt]:{}},dt=function(t){return A(t,jt)}}var Lt,Pt,Et,At={set:ht,get:vt,has:dt,enforce:function(t){return dt(t)?vt(t):ht(t,{})},getterFor:function(t){return function(e){var n;if(!y(e)||(n=vt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Mt={}.propertyIsEnumerable,kt=Object.getOwnPropertyDescriptor,xt={f:kt&&!Mt.call({1:2},1)?function(t){var e=kt(this,t);return!!e&&e.enumerable}:Mt},It=Object.getOwnPropertyDescriptor,Vt={f:p?It:function(t,e){if(t=s(t),e=m(e,!0),b)try{return It(t,e)}catch(t){}if(A(t,e))return _(!xt.f.call(t,e),t[e])}},Ct=e((function(t){var e=At.get,n=At.enforce,r=String(String).split("String");(t.exports=function(t,e,i,u){var a,c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,l=!!u&&!!u.noTargetGet;"function"==typeof i&&("string"!=typeof e||A(i,"name")||w(i,"name",e),(a=n(i)).source||(a.source=r.join("string"==typeof e?e:""))),t!==o?(c?!l&&t[e]&&(f=!0):delete t[e],f?t[e]=i:w(t,e,i)):f?t[e]=i:T(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||bt(this)}))})),Nt=J.concat("length","prototype"),Ft={f:Object.getOwnPropertyNames||function(t){return X(t,Nt)}},Rt={f:Object.getOwnPropertySymbols},Gt=et("Reflect","ownKeys")||function(t){var e=Ft.f(g(t)),n=Rt.f;return n?e.concat(n(t)):e},Dt=function(t,e){for(var n=Gt(e),r=S.f,o=Vt.f,i=0;i<n.length;i++){var u=n[i];A(t,u)||r(t,u,o(e,u))}},zt=/#|\.prototype\./,Ht=function(t,e){var n=Bt[Wt(t)];return n==qt||n!=Yt&&("function"==typeof e?u(e):!!e)},Wt=Ht.normalize=function(t){return String(t).replace(zt,".").toLowerCase()},Bt=Ht.data={},Yt=Ht.NATIVE="N",qt=Ht.POLYFILL="P",Ut=Ht,Kt=Vt.f,Xt=!u((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Jt=ot("IE_PROTO"),Qt=Object.prototype,Zt=Xt?Object.getPrototypeOf:function(t){return t=Object(l(t)),A(t,Jt)?t[Jt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Qt:null},$t=R("iterator"),te=!1;[].keys&&("next"in(Et=[].keys())?(Pt=Zt(Zt(Et)))!==Object.prototype&&(Lt=Pt):te=!0),(null==Lt||u((function(){var t={};return Lt[$t].call(t)!==t})))&&(Lt={}),A(Lt,$t)||w(Lt,$t,(function(){return this}));var ee={IteratorPrototype:Lt,BUGGY_SAFARI_ITERATORS:te},ne=S.f,re=R("toStringTag"),oe=function(t,e,n){t&&!A(t=n?t:t.prototype,re)&&ne(t,re,{configurable:!0,value:e})},ie=ee.IteratorPrototype,ue=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return g(n),function(t){if(!y(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),ae=ee.IteratorPrototype,ce=ee.BUGGY_SAFARI_ITERATORS,fe=R("iterator"),le="keys",se="values",pe="entries",ye=function(){return this},he="Array Iterator",ve=At.set,de=At.getterFor(he),be=function(t,e,n,r,i,u,a){!function(t,e,n){var r=e+" Iterator";t.prototype=ft(ie,{next:_(1,n)}),oe(t,r,!1)}(n,e,r);var c,f,l,s=function(t){if(t===i&&d)return d;if(!ce&&t in h)return h[t];switch(t){case le:case se:case pe:return function(){return new n(this,t)}}return function(){return new n(this)}},p=e+" Iterator",y=!1,h=t.prototype,v=h[fe]||h["@@iterator"]||i&&h[i],d=!ce&&v||s(i),b="Array"==e&&h.entries||v;if(b&&(c=Zt(b.call(new t)),ae!==Object.prototype&&c.next&&(Zt(c)!==ae&&(ue?ue(c,ae):"function"!=typeof c[fe]&&w(c,fe,ye)),oe(c,p,!0))),i==se&&v&&v.name!==se&&(y=!0,d=function(){return v.call(this)}),h[fe]!==d&&w(h,fe,d),i)if(f={values:s(se),keys:u?d:s(le),entries:s(pe)},a)for(l in f)(ce||y||!(l in h))&&Ct(h,l,f[l]);else!function(t,e){var n,r,i,u,a,c=t.target,f=t.global,l=t.stat;if(n=f?o:l?o[c]||T(c,{}):(o[c]||{}).prototype)for(r in e){if(u=e[r],i=t.noTargetGet?(a=Kt(n,r))&&a.value:n[r],!Ut(f?r:c+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof u==typeof i)continue;Dt(u,i)}(t.sham||i&&i.sham)&&w(u,"sham",!0),Ct(n,r,u,t)}}({target:e,proto:!0,forced:ce||y},f);return f}(Array,"Array",(function(t,e){ve(this,{type:he,target:s(t),index:0,kind:e})}),(function(){var t=de(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");pt("keys"),pt("values"),pt("entries");var ge=R("iterator"),me=R("toStringTag"),Oe=be.values;for(var Se in i){var _e=o[Se],we=_e&&_e.prototype;if(we){if(we[ge]!==Oe)try{w(we,ge,Oe)}catch(t){we[ge]=Oe}if(we[me]||w(we,me,Se),i[Se])for(var Te in be)if(we[Te]!==be[Te])try{w(we,Te,be[Te])}catch(t){we[Te]=be[Te]}}}function je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Le(t){return Symbol.for("oneventmixin-".concat(t))}class Pe{constructor(t,e){je(this,"_eventTarget",void 0),je(this,"_eventName",void 0),je(this,"_handlerValue",void 0),je(this,"_handler",(t=>{this._handlerValue&&this._handlerValue.call(this._eventTarget,t)})),this._eventTarget=t,this._eventName=e,this.setAttribute(this._eventTarget.getAttribute("on".concat(this._eventName)))}setProperty(t){"function"==typeof t?(this._handlerValue=t,this._eventTarget.addEventListener(this._eventName,this._handler)):(this._eventTarget.removeEventListener(this._eventName,this._handler),this._handlerValue=null)}setAttribute(t){if("string"==typeof t){const e=new Function("event",t);Object.defineProperty(e,"name",{value:"on".concat(this._eventName)}),this._handlerValue=e,this._eventTarget.addEventListener(this._eventName,this._handler)}else this._eventTarget.removeEventListener(this._eventName,this._handler),this._handlerValue=null}getValue(){return this._handlerValue}}function Ee(t,e,n){return t[Le(n)]||Object.defineProperty(t,Le(n),{configurable:!1,enumerable:!1,writable:!1,value:new Pe(t,e)}),t[Le(n)]}return function(t,e){if("function"!=typeof t||!t.prototype)throw new TypeError("First argument to OnEventMixin must be a custom element constructor");if(!e||"string"==typeof e||!e[Symbol.iterator])throw new TypeError("Second argument to OnEventMixin must be an iterable list of event names");const n=new Map(Array.from(e).map((t=>(t=String(t).toLowerCase(),["on".concat(t),t]))));if(0===n.size)return t;for(const[e,r]of n)e in t.prototype||Object.defineProperty(t.prototype,e,{enumerable:!1,configurable:!1,get(){return Ee(this,r,e).getValue()},set(t){Ee(this,r,e).setProperty(t)}});const r=(null==t?void 0:t.observedAttributes)||[],o=[...r,...Array.from(n.keys())];Object.defineProperty(t,"observedAttributes",{enumerable:!1,configurable:!0,get:()=>o});const i=t.prototype.attributeChangedCallback;return Object.defineProperty(t.prototype,"attributeChangedCallback",{enumerable:!1,configurable:!0,writable:!1,value:function(t,e,o){n.has(t)&&Ee(this,n.get(t),t).setAttribute(o),i&&r.includes(t)&&i.call(this,t,e,o)}}),t}}));
